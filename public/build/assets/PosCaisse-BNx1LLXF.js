import{a as c,j as e,b as _,d as z,R as q}from"./axios-DGPLTa3G.js";import{Z as W,F as H,S as V,C as L}from"./ClientSelect-DjAEGF1P.js";import{D as U,R as Q}from"./RebutModal-Y7NrsVb-.js";import{R as K,H as X,C as Z,P as G}from"./RapportsPage-DfgB2xnP.js";import{e as D,f as J}from"./react-select.esm-B9Exsq2_.js";const Y=({items:p,total:f,setItems:v,type:B,payer:j,resetAll:w,paiement:d,is_prix_editable:b,is_reduction_on:k,setIsLoading:F,setPaiement:u})=>{const m={width:"12%",whiteSpace:"nowrap",flexWrap:"nowrap",justifyContent:"center",verticalAlign:"middle"},y=parseFloat(f),[T,l]=c.useState(!1),[h,A]=c.useState(0),[R,i]=c.useState(y),[r,M]=c.useState(f),S=(t,s,n)=>{v(o=>o.map(a=>a.id==t?{...a,[s]:parseFloat(n)||0}:a))},C=(t,s)=>{const n=Math.max(1,parseFloat(s)||1);S(t,"quantity",n)},I=(t,s)=>{const n=Math.min(100,Math.max(0,parseFloat(s)||0));S(t,"reduction",n)},P=(t,s)=>{const n=Math.max(0,parseFloat(s)||0),o=p.find(a=>a.id==t);o&&o.tax?S(t,"prix",n/o.tax):S(t,"prix",n)},E=t=>{if(!T)try{F(!0),l(!0);const s=t.target.closest("tr").dataset.id;v(n=>n.filter(o=>o.id!=s))}catch(s){console.error("Error deleting row:",s)}finally{l(!1),F(!1)}};c.useEffect(()=>{const t=Math.max(parseFloat(f)-parseFloat(r),0),s=parseFloat(r)>y?parseFloat(r)-y:0;i(parseFloat(t.toFixed(2))),A(parseFloat(s.toFixed(2)))},[f,r,y]),c.useEffect(()=>{u(t=>({...t,i_montant:parseFloat(r)}))},[r,u]),c.useEffect(()=>{M(parseFloat(f))},[f]);const N=p.length>0?p.map(t=>e.jsxs("tr",{"data-id":t.id,"data-position":t.position,children:[e.jsxs("td",{style:{verticalAlign:"middle"},children:[t.name," (",t.reference,")"]}),e.jsx("td",{style:{minWidth:"70px",whiteSpace:"nowrap",verticalAlign:"middle"},children:e.jsx("div",{className:"input-group flex-nowrap",children:e.jsx("input",{type:"number",min:1,value:t.quantity,onChange:s=>C(t.id,s.target.value),className:"form-control",style:{minWidth:"90px"}})})}),b?e.jsx("td",{style:{minWidth:"100px",whiteSpace:"nowrap",verticalAlign:"middle"},children:e.jsxs("div",{className:"input-group",style:{display:"flex",alignItems:"center",minWidth:"150px"},children:[e.jsx("input",{type:"number",min:0,value:parseFloat((t.prix*(t.tax||1)).toFixed(2)),onChange:s=>P(t.id,s.target.value),className:"form-control",style:{flex:1}}),e.jsx("span",{className:"input-group-text",children:"MAD"})]})}):e.jsxs("td",{style:m,children:[t.prix," MAD"]}),k?e.jsx("td",{style:{minWidth:"150px",whiteSpace:"nowrap",verticalAlign:"middle"},children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",value:t.reduction,onChange:s=>I(t.id,s.target.value),className:"form-control"}),e.jsx("span",{className:"input-group-text",children:"%"})]})}):null,e.jsxs("td",{style:m,children:[(()=>{const s=parseFloat(t.quantity)||0,n=parseFloat(t.prix)||0,o=parseFloat(t.tax)||1,a=parseFloat(t.reduction)||0;return(s*n*o*(1-a/100)).toFixed(2)})(),"MAD"]}),e.jsx("td",{style:m,children:e.jsx("button",{className:"btn btn-soft-danger",onClick:s=>E(s),children:e.jsx("i",{className:"fa fa-trash"})})})]},t.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"text-center",children:["Aucun produit n'est pas ajouté"," "]})});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-7 d-flex flex-column",style:{height:"calc(100vh - 16rem)"},children:e.jsx("div",{className:"card position-absolute",style:{inset:".3rem"},children:e.jsx("div",{className:"card-body position-relative overflow-y-auto scrollbar",children:e.jsx("div",{className:"col-12 h-100 ",children:e.jsxs("table",{className:"table table-fixed table-striped table-hover table-bordered rounded-top overflow-hidden",id:"products-table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:B==="bc"?"bg-primary":"bg-success",children:[e.jsx("th",{className:"text-white",children:"Produit"}),e.jsx("th",{className:"text-white",children:"Quantite"}),e.jsx("th",{className:"text-white",children:"Prix"}),k?e.jsx("th",{className:"text-white",children:"Reduction"}):null,e.jsx("th",{className:"text-white",children:"Total"}),e.jsx("th",{className:"text-white",children:"Action"})]})}),e.jsx("tbody",{children:N})]})})})})}),e.jsx("div",{className:"col-5",style:{height:"calc(100vh - 16rem)"},children:e.jsxs("div",{className:"card card-body position-absolute",style:{inset:".3rem"},children:[e.jsx("div",{className:"d-flex flex-column gap-2 overflow-y-scroll w-100 h-100",children:e.jsxs("div",{className:"row g-3 w-100",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"p-2 bg-light rounded",children:[e.jsx("h4",{children:"Paiement reçu"}),e.jsx("input",{className:"form-control",type:"number",value:r,onChange:t=>M(t.target.value)})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"p-2 bg-light rounded",children:[e.jsx("h4",{children:"Référence"}),e.jsx("input",{className:"form-control",type:"text",value:d.i_reference,onChange:t=>u({...d,i_reference:t.target.value})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"p-2 bg-light rounded",children:[e.jsx("h4",{children:"Montant restant"}),e.jsx("input",{className:"form-control",type:"text",value:R,onChange:t=>null})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"p-2 bg-light rounded",children:[e.jsx("h4",{children:"Montant du retour"}),e.jsx("input",{className:"form-control",type:"text",value:h,onChange:t=>null})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"p-2 bg-light rounded",children:[e.jsx("h4",{children:"Méthode de paiement"}),e.jsx(D,{classNames:{control:()=>"border-light shadow-none",option:t=>t.isFocused?"bg-primary text-white":t.isSelected?"bg-soft-primary text-white":t.isDisabled?"bg-soft-light text-muted":"",singleValue:t=>{t.isFocused}},cache:!1,value:d.i_method_key,onChange:t=>{u({...d,i_method_key:t})},options:__methodes})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"p-2 bg-light rounded",children:[e.jsx("h4",{children:"Compte de paiement"}),e.jsx(D,{classNames:{control:()=>"border-light shadow-none",option:t=>t.isFocused?"bg-primary text-white":t.isSelected?"bg-soft-primary text-white":t.isDisabled?"bg-soft-light text-muted":"",singleValue:t=>{t.isFocused}},cache:!1,value:d.i_compte_id,onChange:t=>{u({...d,i_compte_id:t}),console.log(t)},options:__comptes})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"p-2 bg-light rounded",children:[e.jsx("h4",{children:"Note"}),e.jsx("textarea",{className:"form-control",rows:"3",value:d.i_note,onChange:t=>u({...d,i_note:t.target.value})})]})})]})}),e.jsxs("div",{className:"bg-white rounded-bottom p-3 border-light px-4",style:{borderTop:"2px dashed #eee",marginTop:"auto"},children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12 my-1 d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"m-0",children:"Montant total TTC :"}),e.jsxs("h4",{className:"m-0",children:[parseFloat(f).toFixed(2),e.jsx("span",{className:"ms-2",children:"MAD"})]})]}),e.jsxs("div",{className:"col-12 my-1 d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"m-0",children:"Nombre d'articles :"}),e.jsx("h4",{className:"m-0",children:p.reduce((t,s)=>t+(parseFloat(s.quantity)||0),0)})]})]}),e.jsxs("div",{className:"row mt-3",children:[e.jsx("div",{className:"col-6",children:e.jsxs("button",{className:"btn btn-danger py-3 mx-1 w-100",onClick:()=>w(),children:[e.jsx("i",{className:"fa fa-times-circle me-2 h3 mb-0"}),e.jsx("span",{className:"h4 mb-0",children:"Annuler"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("button",{onClick:()=>j(),className:"btn btn-success py-3 mx-1 w-100",children:[e.jsx("i",{className:"fa fa-coins me-2 h3 mb-0"}),e.jsx("span",{className:"h4 mb-0",children:"Payer"})]})})]})]})]})})]})},ee=({searchValue:p,setSearchValue:f,populateData:v,isCodeBarre:B})=>{const[j,w]=c.useState(!1),[d,b]=c.useState([]),[k,F]=c.useState(null),[u,m]=c.useState("designation"),y=c.useRef(null),T=[{value:"designation",label:"Désignation"},{value:"reference",label:"Référence"},...B==1?[{value:"code_barre",label:"Code barre"}]:[]],l=i=>{_.get(`articles/${i}`).then(r=>{v({data:[r.data]}),b([])})},h=i=>{if(f(i),!i){b([]);return}w(!0),clearTimeout(k),F(setTimeout(()=>{_.get("articles-liste-type",{params:{search:i,type:u}}).then(r=>{if(w(!1),r.data.length===1){l(r.data[0].id);return}r.data.length===0&&toastr.warning("Aucun article trouvé"),b(r.data)}).catch(r=>{w(!1),console.error("Search error:",r)})},300))},A=()=>{(u==="designation"||p)&&h(p)},R={control:(i,r)=>({...i,minHeight:"38px",borderRadius:"0.375rem 0 0 0.375rem",borderRight:0,borderColor:"#dee2e6",backgroundColor:"#e9ecef",color:"#495057",boxShadow:"none","&:hover":{borderColor:"#dee2e6",backgroundColor:"#dee2e6"},"&:focus-within":{borderColor:"#dee2e6",boxShadow:"none"}}),menu:i=>({...i,zIndex:20}),valueContainer:i=>({...i,padding:"0 8px"}),option:(i,r)=>({...i,backgroundColor:r.isSelected?"#adb5bd":"white",color:"#212529","&:hover":{backgroundColor:"#dee2e6"}}),indicatorSeparator:i=>({...i,display:"none"})};return c.useEffect(()=>{const i=r=>{y.current&&!y.current.contains(r.target)&&b([])};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[y]),e.jsxs("div",{className:"input-group position-relative z-10",ref:y,children:[e.jsx("div",{className:"w-auto",style:{minWidth:"120px"},children:e.jsx(D,{value:T.find(i=>i.value===u),onChange:i=>{m(i.value),b([])},options:T,styles:R,isSearchable:!1,className:"select-container",classNamePrefix:"select"})}),e.jsx("input",{autoComplete:"off",id:"search",className:"form-control",placeholder:"Rechercher un produit...",value:p,onChange:i=>f(i.target.value),onInput:i=>u==="designation"&&h(i.target.value),onFocus:i=>u==="designation"&&h(i.target.value)}),e.jsx("button",{className:"btn btn-light",onClick:A,children:j?e.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):e.jsx("i",{className:"fa fa-search"})}),u==="designation"&&d.length>0&&e.jsx(J,{items:d,validateSearchById:l})]})},te="/build/assets/addArticle-BU63IQ_p.mp3",se="/build/assets/cash-paid-BIoOFO-7.mp3";function ae(){const[p,f]=c.useState(""),[v,B]=c.useState(__default_client),[j,w]=c.useState("bc"),[d,b]=c.useState([]),[k,F]=c.useState({nom:"",category_id:"",benificiaire:"",montant:0,description:"",session_id:__session_id}),[u,m]=c.useState(!1),[y,T]=c.useState(__prixModification),[l,h]=c.useState({i_date_paiement:"",i_montant:0,i_note:"",i_method_key:__methodes[0],i_reference:"",i_date:"",i_compte_id:__comptes[0],vente_id:null}),A=()=>{f("")},R=s=>{s.target.setAttribute("disabled","true"),_.get("articles",{params:{reference:p}}).then(n=>{M(n),s.target.removeAttribute("disabled")}).catch(n=>{toastr.error("Une erreur est survenue"),s.target.removeAttribute("disabled")})},i=()=>{new Audio(te).play()},r=()=>{new Audio(se).play()},M=s=>{if(!s||!s.data||s.data.length===0||s.data===[]){toastr.warning("Aucun article trouvé");return}if(s.data.length===1){let n=s.data[0];if(n.quantity=1,n.reduction=0,n.position=d.length+1,d.some(o=>o.id==n.id)){let o=d.map(a=>a.id==n.id?{...a,quantity:a.quantity+1}:a);b(o)}else b([...d,n]);toastr.success("Article ajouté"),i()}else s.data.length>1?toastr.warning("Plusieurs articles trouvés"):toastr.warning("Aucun article trouvé");A()},S=c.useMemo(()=>Math.round(d.reduce((s,n)=>s+n.prix*n.quantity*(1-n.reduction/100)*n.tax,0)*100)/100,[d]);c.useEffect(()=>{console.log("total ttc",S)});function C(s){document.getElementById("iframe")&&document.getElementById("iframe").remove();let n=document.createElement("iframe");n.style.display="none",n.id="iframe",n.srcdoc=s,document.body.append(n),n.contentWindow.focus(),n.contentWindow.print()}const I=()=>{m(!0),_.get("pos-session/cloture").then(s=>{m(!1),Swal.fire({title:"Clôture de session",html:"<div class='bg-body p-3' >"+s.data+"</div>",showCancelButton:!0,confirmButtonText:"Imprimer",cancelButtonText:"Annuler",buttonsStyling:!1,customClass:{confirmButton:"btn btn-soft-success mx-2",cancelButton:"btn btn-soft-secondary mx-2"},didOpen:()=>{$(".btn").blur()}}).then(n=>{n.isConfirmed&&(n.value?C(s.data):Swal.fire({title:"Erreur",text:"Une erreur s'est produite lors de la demande.",icon:"error",buttonsStyling:!1,confirmButtonText:"OK",customClass:{confirmButton:"btn btn-soft-danger mx-2"}}))})})},P=(s=!1)=>{if(v==null){toastr.warning("Vuillez inserer un client !");return}let n={lignes:d,client:v.value,type:j,exercice:__exercice,session_id:__session_id};s&&(n.credit=!0),m(!0),_.post("ventes",n).then(o=>{m(!1),Swal.fire({icon:"success",title:"Action réussie !",html:o.data.message,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2"}}),N(),o.data.template!=null&&C(o.data.template)}).catch(o=>{if(m(!1),o.response&&o.response.status==422)if(o.response.data&&o.response.data.error)Swal.fire({icon:"warning",title:"Attention !",text:o.response.data.error,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}});else if(o.response.data&&o.response.data.errors){let a=o.response.data.errors,x="";for(let g in a)x+=`<p class="text-danger">${a[g][0]}</p>`;Swal.fire({icon:"warning",title:"Attention !",html:x,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})}else Swal.fire({icon:"error",title:"Erreur !",text:"Vuillez ressayer plus tard",confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}});else Swal.fire({icon:"error",title:"Erreur !",text:"Vuillez ressayer plus tard",confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})})},E=()=>{if(v==null){toastr.warning("Vuillez inserer un client !");return}h({...l});const s=S.toFixed(2),n=parseFloat(l.i_montant)<parseFloat(s);if(l.vente_id){let o={vente_id:l.vente_id,paiement:{...l,i_montant:l.i_montant>s?s:l.i_montant,i_compte_id:l.i_compte_id.value,i_method_key:l.i_method_key.value},session_id:__session_id};m(!0),_.post("ventes-ajouter-paiement",o).then(a=>{m(!1),$("#paiement-modal").modal("hide"),r();const x=(parseFloat(s)-parseFloat(l.i_montant)).toFixed(2);parseFloat(x)>0?Swal.fire({icon:"success",title:"Paiement partiel enregistré !",html:`${a.data.message}<br><br>Voulez-vous ajouter un autre paiement à cette vente?`,showCancelButton:!0,confirmButtonText:"Oui, ajouter un paiement",cancelButtonText:"Non, terminer",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2",cancelButton:"btn btn-lg btn-soft-secondary mx-2"}}).then(g=>{g.isConfirmed?(h({...l,i_montant:x,i_note:"",i_method_key:__methodes[0],i_reference:"",i_date:"",i_compte_id:__comptes[0]}),setTimeout(()=>{$("#paiement-modal").modal("show")},500)):(N(),a.data.template!=null&&C(a.data.template))}):(Swal.fire({icon:"success",title:"Paiement complet !",html:a.data.message,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2"}}),N(),a.data.template!=null&&C(a.data.template))}).catch(a=>{if(m(!1),a.response&&a.response.status==422){if(a.response.data&&a.response.data.error){Swal.fire({icon:"warning",title:"Attention !",html:a.response.data.error,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}});return}let x=a.response.data.errors,g="";for(let O in x)g+=`<p class="text-danger">${x[O][0]}</p>`;Swal.fire({icon:"warning",title:"Attention !",html:g,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})}else Swal.fire({icon:"error",title:"Erreur !",text:"Vuillez ressayer plus tard",confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})})}else{let o={lignes:d,client:v.value,type:j,exercice:__exercice,paiement:{...l,i_montant:l.i_montant>s?s:l.i_montant,i_compte_id:l.i_compte_id.value,i_method_key:l.i_method_key.value},session_id:__session_id};m(!0),_.post("ventes-paiement",o).then(a=>{if(m(!1),r(),n){$("#paiement-modal").modal("hide");const x=a.data.vente_id,g=(parseFloat(s)-parseFloat(l.i_montant)).toFixed(2);Swal.fire({icon:"success",title:"Paiement partiel enregistré !",html:`${a.data.message}<br><br>Voulez-vous ajouter un autre paiement à cette vente?`,showCancelButton:!0,confirmButtonText:"Oui, ajouter un paiement",cancelButtonText:"Non, terminer",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2",cancelButton:"btn btn-lg btn-soft-secondary mx-2"}}).then(O=>{O.isConfirmed?(h({i_date_paiement:"",i_montant:g,i_note:"",i_method_key:__methodes[0],i_reference:"",i_date:"",i_compte_id:__comptes[0],vente_id:x}),setTimeout(()=>{$("#paiement-modal").modal("show")},500)):(N(),a.data.template!=null&&C(a.data.template))})}else Swal.fire({icon:"success",title:"Action réussie !",html:a.data.message,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2"}}),N(),$("#paiement-modal").modal("hide"),a.data.template!=null&&C(a.data.template)}).catch(a=>{if(m(!1),a.response&&a.response.status==422){if(a.response.data&&a.response.data.error){Swal.fire({icon:"warning",title:"Attention !",html:a.response.data.error,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}});return}if(a.response.data&&a.response.data.error)Swal.fire({icon:"warning",title:"Attention !",text:a.response.data.error,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}});else if(a.response.data&&a.response.data.errors){let x=a.response.data.errors,g="";for(let O in x)g+=`<p class="text-danger">${x[O][0]}</p>`;Swal.fire({icon:"warning",title:"Attention !",html:g,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})}else Swal.fire({icon:"error",title:"Erreur !",text:"Vuillez ressayer plus tard",confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})}else Swal.fire({icon:"error",title:"Erreur !",text:"Vuillez ressayer plus tard",confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})})}},N=()=>{b([]),B(__default_client),T(__prixModification),w("bc"),h({i_date_paiement:"",i_montant:0,i_note:"",i_method_key:__methodes[0],i_date:"",i_reference:"",i_compte_id:__comptes[0],vente_id:null})};c.useEffect(()=>{h({...l,i_montant:S.toFixed(2)})},[d]);const t=()=>e.jsx("div",{className:"cover-spin",style:{height:"100vh",width:"100vw",zIndex:999999,top:0,left:0,position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.5)"},dangerouslySetInnerHTML:{__html:__spinner_element_lg}});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row m-0",id:"main-row",children:[u?t():"",e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card bg-transparent shadow-none pb-0",children:e.jsxs("div",{className:"card-body pb-1 px-0",children:[e.jsxs("div",{className:"float-end",children:[e.jsx("button",{onClick:()=>I(),className:"btn btn-info mx-1",children:e.jsx("i",{className:"fa fa-file-contract "})}),(__rapport_ac_enabled==1||__rapport_as_enabled==1)&&e.jsx(K,{}),__is_depenses&&e.jsx("button",{className:"btn btn-soft-danger mx-1","data-bs-target":"#depense-modal","data-bs-toggle":"modal",children:e.jsx("i",{className:"fa fa-money-bill-alt ",children:" Dépenses"})}),__is_demandes&&e.jsxs("a",{href:"/point-de-vente/demandes",className:"btn btn-soft-success mx-1",children:[e.jsx("i",{className:"fas fa-external-link-alt me-2"}),"Demandes"]}),__is_rebut==1&&e.jsxs("button",{className:"btn btn-soft-purple mx-1","data-bs-target":"#rebut-modal","data-bs-toggle":"modal",children:[e.jsx("i",{className:"mdi mdi-delete-variant "})," Rebut"]}),__is_historique&&e.jsxs("button",{className:"btn btn-primary mx-1 shadow-sm",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample",children:[e.jsx("i",{className:"fa fa-history ","data-bs-template":'<div class="tooltip mb-1 rounded " role="tooltip"><div class="tooltip-inner bg-primary font-size-10"></div></div>',"data-bs-toggle":"tooltip","data-bs-custom-class":"primary-tooltip","data-bs-placement":"top","data-bs-original-title":"Historique"})," Historique"]}),e.jsx(W,{}),e.jsx(H,{}),e.jsx(V,{setIsLoading:m})]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("a",{href:"/",className:"text-primary h3 me-3",children:e.jsx("i",{className:"fa fa-arrow-left"})}),e.jsxs("h3",{children:["Point de vente",e.jsxs("span",{className:"h6 ms-1",children:["(",__magasin_ref,")"]})]})]})]})})}),e.jsx("div",{className:"col-7",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-5",children:e.jsxs("div",{className:"input-group flex-nowrap",children:[e.jsx("div",{className:"w-100",children:e.jsx(L,{client:v,setClient:B})}),e.jsx("button",{"data-bs-toggle":"modal","data-bs-target":"#client-modal",className:"input-group-text btn btn-light",children:"+"})]})}),e.jsx("div",{className:"col-7",children:e.jsx(ee,{searchValue:p,setSearchValue:f,validateSearch:R,populateData:M,isCodeBarre:__is_code_barre})})]})})})}),e.jsx("div",{className:"col-5",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsx("button",{className:j==="bc"?"btn btn-block w-100 btn-primary border-primary ":"btn btn-block w-100 border-primary text-primary",onClick:()=>{N(),w("bc")},style:{border:j==="bc"?"solid 3px":"dashed 3px",transition:"all .s ease-in-out"},children:"Vente"})}),e.jsx("div",{className:"col-6",children:e.jsx("button",{className:j==="br"?"btn btn-block w-100 btn-success border-success":"btn btn-block w-100 border-success text-success",onClick:()=>{N(),w("br")},style:{border:j==="br"?"solid 3px":"dashed 3px"},children:"Retour"})})]})})})}),e.jsx(Y,{items:d,type:j,cashOut:P,setItems:b,resetAll:N,paiement:l,is_reduction_on:!0,is_prix_editable:y,setIsLoading:m,setPaiement:h,payer:E,total:S})]}),e.jsx(U,{depense:k,setDepense:F}),e.jsx(X,{reduction:!1}),e.jsx(Z,{setClient:B,setIsLoading:m}),e.jsx(G,{paiement:l,setPaiement:h,payer:E}),e.jsx(Q,{})]})}_.defaults.baseURL=__api_url;_.defaults.headers.common["X-CSRF-TOKEN"]=sessionStorage.getItem("csrf");_.defaults.withCredentials=!0;_.defaults.withXSRFToken=!0;_.defaults.headers.Authorization="Bearer "+sessionStorage.getItem("access_token");z.createRoot(document.getElementById("root")).render(e.jsx(q.StrictMode,{children:e.jsx(ae,{})}));
