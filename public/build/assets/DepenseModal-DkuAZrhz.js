import{a as m,j as e,b as u}from"./axios-DGPLTa3G.js";import{e as h}from"./react-select.esm-B9Exsq2_.js";const g=({depense:s,setDepense:t})=>{const[r,i]=m.useState(!1),d=()=>{i(!0);let a={...s,category_id:s.category_id?s.category_id.value:null};u.post("depense",a).then(l=>{toastr.success(l.data),$("#depense-modal").modal("hide"),t({nom:"",category_id:"",benificiaire:"",montant:0,description:"",session_id:__session_id}),i(!1)}).catch(l=>{if(i(!1),l.response.status==422){let o=l.response.data.errors,n="";for(let c in o)n+=`<p class="text-white">${o[c][0]}</p>`;toastr.warning(n)}else toastr.danger("Vuillez ressayer plus tard")})};return e.jsx("div",{className:"modal fade","data-bs-backdrop":"static",tabIndex:"-1",id:"depense-modal",style:{display:"none"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title align-self-center",children:"Ajouter une dépense"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"col-12 mt-3",children:[e.jsx("label",{htmlFor:"depense_nom",className:"form-label required",children:"Nom de depense"}),e.jsx("div",{className:"input-group",children:e.jsx("input",{id:"depense_nom",className:"form-control",type:"text",required:!0,value:s.nom,onChange:a=>{t({...s,nom:a.target.value})}})})]}),e.jsxs("div",{className:"col-12 mt-3",children:[e.jsx("label",{htmlFor:"depense-category",className:"form-label required",children:"Catégorie"}),e.jsx(h,{classNames:{control:()=>"border-light shadow-none",option:a=>a.isFocused?"bg-primary text-white":a.isSelected?"bg-soft-primary text-white":a.isDisabled?"bg-soft-light text-muted":"",singleValue:a=>{a.isFocused}},cache:!1,value:s.category_id,onChange:a=>t({...s,category_id:a}),options:__depenses})]}),e.jsxs("div",{className:"col-12 mt-3",children:[e.jsx("label",{htmlFor:"depense_benificiaire",className:"form-label required",children:"Bénéficiaire"}),e.jsx("div",{className:"input-group",children:e.jsx("input",{id:"depense_benificiaire",className:"form-control",type:"text",required:!0,value:s.benificiaire,onChange:a=>{t({...s,benificiaire:a.target.value})}})})]}),e.jsxs("div",{className:"col-12 mt-3",children:[e.jsx("label",{htmlFor:"montant",className:"form-label required",children:"Montant"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{required:!0,className:"form-control",step:"0.01",min:"1",max:s.montant,type:"number",value:s.montant,onChange:a=>t({...s,montant:a.target.value}),id:"montant"}),e.jsx("span",{className:"input-group-text",children:"MAD"})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-light","data-bs-dismiss":"modal",children:"Fermer"}),e.jsx("button",{className:"btn btn-success",onClick:()=>d(),disabled:r,children:r?"En cours...":"Ajouter"})]})]})})})};export{g as D};
