import{a as o,b as x,j as e,d as K,R as X}from"./axios-DGPLTa3G.js";import{R as L,A as Q,P as G,C as J,H as Y}from"./RapportsPage-MLYy4RaS.js";import{S as Z}from"./Searchbar-yD1Qilc2.js";import"./react-select.esm-B9Exsq2_.js";const ee=({commercial:m,setCommercial:f,setIsLoading:c})=>{const[j,h]=o.useState([]),y=()=>j.length===0?e.jsx("h4",{className:"text-center text-muted",children:"Il'ya aucun commercial"}):j.map(function(n){return e.jsx("div",{className:"p-2 col-3 align-items-stretch",style:{cursor:"pointer"},onClick:()=>n.id===m?f(null):f(n.id),children:e.jsxs("div",{className:m===n.id?"article-card border-2 border d-flex flex-column align-items-center rounded overflow-hidden h-100  shadow-sm selected":"article-card border-2 border d-flex flex-column align-items-center rounded overflow-hidden h-100  shadow-sm",children:[e.jsx("div",{className:"article-card-header mb-1 w-100 overflow-hidden d-flex align-items-center",style:{maxHeight:"150px"},children:e.jsx("img",{src:n.image,alt:"",className:"w-100"})}),e.jsx("div",{className:"p-1",children:e.jsx("h4",{className:"text-capitalize text-center m-0",children:n.name})})]})},n.id)}),w=()=>{c(!0),x.get("commercials",{}).then(n=>{c(!1),h(n.data)}).catch(n=>{c(!1),toastr.error("Une erreur est survenue")})};return o.useEffect(()=>{x.get("commercials",{}).then(n=>{c(!1),h(n.data)}).catch(n=>{c(!1),toastr.error("Une erreur est survenue")})},[]),e.jsx("div",{className:"card position-absolute",style:{inset:".3rem"},children:e.jsxs("div",{className:"card-body position-relative d-flex flex-column h-100",children:[e.jsxs("div",{className:"card-title",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("h4",{className:"m-0",children:"Commerciaux / Canneau de distribution"}),e.jsx("i",{className:"fa fa-sync",style:{cursor:"pointer"},onClick:()=>w()})]}),e.jsx("hr",{})]}),e.jsx("div",{className:"row overflow-y-auto scrollbar h-100",style:{maxHeight:"100%"},children:y()})]})})},te=({methodeLivraison:m,setMethodeLivraison:f,setIsLoading:c})=>{const[j,h]=o.useState([]),y=()=>j.length===0?e.jsx("h4",{className:"text-center text-muted",children:"Il y'a aucune methode de livraison"}):j.map(function(n){return e.jsx("div",{className:"p-2 col-3 align-items-stretch",style:{cursor:"pointer"},onClick:()=>n.id===m?f(null):f(n.id),children:e.jsxs("div",{className:m===n.id?"article-card border-2 border d-flex flex-column align-items-center rounded overflow-hidden h-100  shadow-sm selected":"article-card border-2 border d-flex flex-column align-items-center rounded overflow-hidden h-100  shadow-sm",children:[e.jsx("div",{className:"article-card-header mb-1 w-100 overflow-hidden d-flex align-items-center",style:{maxHeight:"150px"},children:e.jsx("img",{src:n.image,alt:"",className:"w-100"})}),e.jsx("div",{className:"p-1",children:e.jsx("h4",{className:"text-capitalize text-center m-0",children:n.name})})]})},n.id)}),w=()=>{c(!0),x.get("methodes-livraison",{}).then(n=>{c(!1),h(n.data)}).catch(n=>{c(!1),toastr.error("Une erreur est survenue")})};return o.useEffect(()=>{x.get("methodes-livraison",{}).then(n=>{c(!1),h(n.data)}).catch(n=>{c(!1),toastr.error("Une erreur est survenue")})},[]),e.jsx("div",{className:"card position-absolute",style:{inset:".3rem"},children:e.jsxs("div",{className:"card-body position-relative d-flex flex-column h-100",children:[e.jsxs("div",{className:"card-title",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("h4",{className:"m-0",children:"Méthodes de livraison"}),e.jsx("i",{className:"fa fa-sync",style:{cursor:"pointer"},onClick:()=>w()})]}),e.jsx("hr",{})]}),e.jsx("div",{className:"row overflow-y-auto scrollbar h-100",style:{maxHeight:"100%"},children:y()})]})})},se=({items:m,setItems:f,type:c,cashOut:j,resetAll:h,paiement:y,is_prix_editable:w,is_reduction_on:n,setIsLoading:_})=>{const C={width:"12%",whiteSpace:"nowrap",flexWrap:"nowrap",justifyContent:"center",verticalAlign:"middle"},[g,k]=o.useState(!1),E=(a,r)=>{let N=m.map(p=>p.id==a?{...p,quantity:r}:p);f(N)},d=(a,r)=>{let N=m.map(p=>p.id==a?{...p,reduction:r}:p);f(N)},F=(a,r)=>{let N=m.map(p=>p.id==a?{...p,prix:r}:p);f(N)},R=a=>{if(!g){_(!0),k(!0);let r=a.target.closest("tr").dataset.id;f(m.filter(N=>N.id!=r)),k(!1),_(!1)}},T=m.length>0?m.map(a=>e.jsxs("tr",{"data-id":a.id,"data-position":a.position,children:[e.jsxs("td",{className:"align-middle",children:[a.name," (",a.reference," - ",e.jsxs("span",{className:"text-muted fw-bold",children:["Stock: ",a.stock]}),")"]}),e.jsx("td",{style:{minWidth:"70px",maxWidth:"100px",whiteSpace:"nowrap",verticalAlign:"middle"},children:e.jsxs("div",{className:"input-group",children:[e.jsx("button",{className:" btn btn-danger input-group-text",onClick:()=>E(a.id,a.quantity-1),children:"-"}),e.jsx("input",{type:"number",value:a.quantity,onChange:r=>E(a.id,r.target.value),className:"form-control"}),e.jsx("button",{className:" btn btn-success input-group-text",onClick:()=>E(a.id,a.quantity+1),children:"+"})]})}),w?e.jsx("td",{style:{minWidth:"70px",maxWidth:"100px",whiteSpace:"nowrap",verticalAlign:"middle"},children:e.jsxs("div",{className:"input-group",style:{display:"flex",alignItems:"center",minWidth:"150px"},children:[e.jsx("input",{type:"number",value:a.prix,onChange:r=>F(a.id,r.target.value),className:"form-control",style:{flex:1}}),e.jsx("span",{className:"input-group-text",style:{marginLeft:"5px"},children:"MAD"})]})}):e.jsxs("td",{style:C,children:[a.prix," MAD"]}),n?e.jsx("td",{style:{minWidth:"70px",maxWidth:"100px",whiteSpace:"nowrap",verticalAlign:"middle"},children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",value:a.reduction,onChange:r=>d(a.id,r.target.value),className:"form-control"}),e.jsx("span",{className:"input-group-text",children:"%"})]})}):null,e.jsxs("td",{style:C,children:[(a.quantity*a.prix*(1-a.reduction/100)).toFixed(2),"MAD"]}),e.jsx("td",{style:C,children:e.jsx("button",{className:"btn btn-soft-danger",onClick:r=>R(r),children:e.jsx("i",{className:"fa fa-trash"})})})]},a.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"text-center",children:["Aucun produit n'est pas ajouté"," "]})});return e.jsxs("div",{className:"card position-absolute",style:{inset:".3rem"},children:[e.jsx("div",{className:"card-body position-relative overflow-y-auto scrollbar",children:e.jsx("div",{className:"col-12 h-100 ",children:e.jsxs("table",{className:"table table-fixed table-striped table-hover table-bordered rounded-top overflow-hidden",id:"products-table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:c==="bc"?"bg-primary":"bg-success",children:[e.jsx("th",{className:"text-white",children:"Produit"}),e.jsx("th",{className:"text-white",children:"Quantite"}),e.jsx("th",{className:"text-white",children:"Prix"}),n?e.jsx("th",{className:"text-white",children:"Reduction"}):null,e.jsx("th",{className:"text-white",children:"Total"}),e.jsx("th",{className:"text-white",children:"Action"})]})}),e.jsx("tbody",{children:T})]})})}),e.jsxs("div",{className:"bg-white rounded-bottom p-3 border-light px-4",style:{borderTop:"2px dashed #eee"},children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12 my-1 d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"m-0",children:"Montant total :"}),e.jsxs("h4",{className:"m-0",children:[y.i_montant.toLocaleString(void 0,{minimumFractionDigits:2}),e.jsx("span",{className:"ms-2",children:"MAD"})]})]}),e.jsxs("div",{className:"col-12 my-1 d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"m-0",children:"Nombre d'articles :"}),e.jsx("h4",{className:"m-0",children:m.reduce((a,r)=>a+r.quantity,0)})]})]}),e.jsxs("div",{className:"row mt-3 g-3 justify-content-end",children:[e.jsx("div",{className:"col-6",children:e.jsxs("button",{className:"btn btn-danger py-3 mx-1 w-100",onClick:()=>h(),children:[e.jsx("i",{className:"fa fa-times-circle me-2 h3 mb-0"}),e.jsx("span",{className:"h4 mb-0",children:"Annuler"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("button",{onClick:()=>j(),className:"btn btn-success py-3 mx-1 w-100",children:[e.jsx("i",{className:"fa fa-coins me-2 h3 mb-0"}),e.jsx("span",{className:"h4 mb-0",children:"Espèces"})]})}),e.jsx("div",{className:"col-3",children:e.jsxs("button",{className:"btn btn-warning py-3 mx-1 w-100",onClick:()=>j(!0),children:[e.jsx("i",{className:"fa fa-wallet me-2 h3 mb-0"}),e.jsx("span",{className:"h4 mb-0",children:"Credit"})]})}),e.jsx("div",{className:"col-3",children:e.jsxs("button",{className:"btn btn-info py-3 mx-1 w-100","data-bs-target":"#paiement-modal","data-bs-toggle":"modal",children:[e.jsx("i",{className:"fa fa-cash-register me-2 h3 mb-0"}),e.jsx("span",{className:"h4 mb-0",children:"Autre"})]})})]})]})]})};function ae(){const[m,f]=o.useState(""),[c,j]=o.useState(16),[h,y]=o.useState(__default_client),[w,n]=o.useState(!1),[_,C]=o.useState("bc"),[g,k]=o.useState([]),[E,d]=o.useState(!1),[F,R]=o.useState(""),[T,a]=o.useState(null),[r,N]=o.useState(__is_price_editable),[p,P]=o.useState(0),[u,B]=o.useState({i_date_paiement:"",i_montant:"",i_note:"",i_method_key:"",i_reference:"",i_date:"",i_compte_id:"",vente_id:null}),z=()=>{f("")},M=s=>{s.target.setAttribute("disabled","true"),x.get("articles",{params:{reference:m}}).then(l=>{O(l),s.target.removeAttribute("disabled")}).catch(l=>{toastr.error("Une erreur est survenue"),s.target.removeAttribute("disabled")})},O=s=>{if(s.data.length===1){let l=s.data[0];if(l.quantity=1,l.reduction=0,l.position=g.length+1,g.some(i=>i.id==l.id)){let i=g.map(t=>t.id==l.id?{...t,quantity:t.quantity+1}:t);k(i)}else k([...g,l]);toastr.success("Article ajouté")}else s.data.length>1?toastr.warning("Plusieurs articles trouvés"):toastr.warning("Aucun article trouvé");z()},V=()=>{n(!w),w?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen&&document.documentElement.mozRequestFullScreen()};function A(s){document.getElementById("iframe")&&document.getElementById("iframe").remove();let l=document.createElement("iframe");l.style.display="none",l.id="iframe",l.srcdoc=s,document.body.append(l),l.contentWindow.focus(),l.contentWindow.print()}const D=()=>{Swal.fire({title:"Est-vous sûr?",text:"Vous voulez vraiment arreter la session !",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, Arreter !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-soft-danger mx-2",cancelButton:"btn btn-soft-secondary mx-2"},didOpen:()=>{$(".btn").blur()},preConfirm:async()=>{Swal.showLoading(),d(!0);try{const[s]=await Promise.all([x.delete("pos-session/terminer",{headers:{"X-CSRF-TOKEN":__csrf_token}})]);return s}catch(s){d(!1);let l="Une erreur s'est produite lors de la demande.";throw s.status===404&&(l="La ressource n'a pas été trouvée."),Swal.fire({title:"Erreur",text:l,icon:"error",buttonsStyling:!1,confirmButtonText:"OK",customClass:{confirmButton:"btn btn-soft-danger mx-2"}}),s}}}).then(s=>{s.isConfirmed&&(s.value?Swal.fire({title:"Succès",text:"Session est terminée.",icon:"success",buttonsStyling:!1,confirmButtonText:"OK",customClass:{confirmButton:"btn btn-soft-success mx-2"}}).then(l=>{window.location.reload()}):(d(!1),Swal.fire({title:"Erreur",text:"Une erreur s'est produite lors de la demande.",icon:"error",buttonsStyling:!1,confirmButtonText:"OK",customClass:{confirmButton:"btn btn-soft-danger mx-2"}})))})},H=(s=!1)=>{if(h==null){toastr.warning("Vuillez inserer un client !");return}let l={lignes:g,client:h.value,type:_,exercice:__exercice,session_id:__session_id,commercial:F,methode_livraison:T,total_red:p};s&&(l.credit=!0),d(!0),x.post("ventes",l).then(i=>{d(!1),Swal.fire({icon:"success",title:"Action réussie !",html:i.data.message,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2"}}),S(),i.data.template!=null&&A(i.data.template)}).catch(i=>{if(d(!1),i.response&&i.response.status==422)if(i.response.data&&i.response.data.error)Swal.fire({icon:"warning",title:"Attention !",text:i.response.data.error,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}});else if(i.response.data&&i.response.data.errors){let t=i.response.data.errors,b="";for(let v in t)b+=`<p class="text-danger">${t[v][0]}</p>`;Swal.fire({icon:"warning",title:"Attention !",html:b,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})}else Swal.fire({icon:"error",title:"Erreur !",text:"Vuillez ressayer plus tard",confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}});else Swal.fire({icon:"error",title:"Erreur !",text:"Vuillez ressayer plus tard",confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})})},W=()=>{if(h==null){toastr.warning("Vuillez inserer un client !");return}B({...u,i_date_paiement:document.querySelector("#date_paiement").value,i_date:document.querySelector("#date_prevu").value});const s=(Math.round(g.reduce((i,t)=>i+t.prix*t.quantity*(1-t.reduction/100),0)*100)/100).toFixed(2),l=parseFloat(u.i_montant)<parseFloat(s);if(u.vente_id){let i={vente_id:u.vente_id,paiement:{...u,i_date_paiement:document.querySelector("#date_paiement").value,i_date:document.querySelector("#date_prevu").value,i_compte_id:u.i_compte_id.value,i_method_key:u.i_method_key.value},session_id:__session_id};d(!0),x.post("ventes-ajouter-paiement",i).then(t=>{d(!1),$("#paiement-modal").modal("hide");const b=(parseFloat(s)-parseFloat(u.i_montant)).toFixed(2);parseFloat(b)>0?Swal.fire({icon:"success",title:"Paiement partiel enregistré !",html:`${t.data.message}<br><br>Voulez-vous ajouter un autre paiement à cette vente?`,showCancelButton:!0,confirmButtonText:"Oui, ajouter un paiement",cancelButtonText:"Non, terminer",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2",cancelButton:"btn btn-lg btn-soft-secondary mx-2"}}).then(v=>{v.isConfirmed?(B({...u,i_montant:b,i_note:"",i_method_key:"",i_reference:"",i_date:"",i_compte_id:""}),setTimeout(()=>{$("#paiement-modal").modal("show")},500)):(S(),t.data.template!=null&&A(t.data.template))}):(Swal.fire({icon:"success",title:"Paiement complet !",html:t.data.message,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2"}}),S(),t.data.template!=null&&A(t.data.template))}).catch(t=>{if(d(!1),t.response&&t.response.status==422){if(t.response.data&&t.response.data.error){Swal.fire({icon:"warning",title:"Attention !",html:t.response.data.error,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}});return}let b=t.response.data.errors,v="";for(let q in b)v+=`<p class="text-danger">${b[q][0]}</p>`;Swal.fire({icon:"warning",title:"Attention !",html:v,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})}else Swal.fire({icon:"error",title:"Erreur !",text:"Vuillez ressayer plus tard",confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})})}else{let i={lignes:g,client:h.value,type:_,exercice:__exercice,paiement:{...u,i_date_paiement:document.querySelector("#date_paiement").value,i_date:document.querySelector("#date_prevu").value,i_compte_id:u.i_compte_id.value,i_method_key:u.i_method_key.value},session_id:__session_id,commercial:F,methode_livraison:T};d(!0),x.post("ventes-paiement",i).then(t=>{if(d(!1),l){$("#paiement-modal").modal("hide");const b=t.data.vente_id,v=(parseFloat(s)-parseFloat(u.i_montant)).toFixed(2);Swal.fire({icon:"success",title:"Paiement partiel enregistré !",html:`${t.data.message}<br><br>Voulez-vous ajouter un autre paiement à cette vente?`,showCancelButton:!0,confirmButtonText:"Oui, ajouter un paiement",cancelButtonText:"Non, terminer",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2",cancelButton:"btn btn-lg btn-soft-secondary mx-2"}}).then(q=>{q.isConfirmed?(B({i_date_paiement:"",i_montant:v,i_note:"",i_method_key:"",i_reference:"",i_date:"",i_compte_id:"",vente_id:b}),setTimeout(()=>{$("#paiement-modal").modal("show")},500)):(S(),t.data.template!=null&&A(t.data.template))})}else Swal.fire({icon:"success",title:"Action réussie !",html:t.data.message,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-success mx-2"}}),S(),$("#paiement-modal").modal("hide"),t.data.template!=null&&A(t.data.template)}).catch(t=>{if(d(!1),t.response&&t.response.status==422){if(t.response.data&&t.response.data.error){Swal.fire({icon:"warning",title:"Attention !",html:t.response.data.error,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}});return}let b=t.response.data.errors,v="";for(let q in b)v+=`<p class="text-danger">${b[q][0]}</p>`;Swal.fire({icon:"warning",title:"Attention !",html:v,confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})}else Swal.fire({icon:"error",title:"Erreur !",text:"Vuillez ressayer plus tard",confirmButtonText:"Ok !",buttonsStyling:!1,customClass:{confirmButton:"btn btn-lg btn-soft-danger mx-2"}})})}},S=()=>{k([]),y(__default_client),N(__is_price_editable),C("bc"),B({i_date_paiement:"",i_montant:"",i_note:"",i_method_key:"",i_date:"",i_reference:"",i_compte_id:"",vente_id:null}),R(null),a(null)},I=s=>{P(s)},U=()=>e.jsx("div",{className:"cover-spin",style:{height:"100vh",width:"100vw",zIndex:999999,top:0,left:0,position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.5)"},dangerouslySetInnerHTML:{__html:__spinner_element_lg}});return o.useEffect(()=>{document.documentElement.style.fontSize=c+"px"},[c]),o.useEffect(()=>{B({...u,i_montant:(Math.round(g.reduce((s,l)=>s+l.prix*l.quantity*(1-l.reduction/100),0)*100)/100).toFixed(2),i_date_paiement:document.querySelector("#date_paiement").value,i_date:document.querySelector("#date_prevu").value})},[g]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row m-0",id:"main-row",children:[E?U():"",e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card bg-transparent shadow-none pb-0",children:e.jsxs("div",{className:"card-body pb-1 px-0",children:[e.jsxs("div",{className:"float-end",children:[(__rapport_ac_enabled==1||__rapport_as_enabled==1)&&e.jsx(L,{}),e.jsx("button",{className:"btn btn-primary mx-1 shadow-sm",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample",children:e.jsx("i",{className:"fa fa-history"})}),e.jsx("button",{onClick:()=>j(c+1),className:"btn btn-soft-info mx-1 shadow-sm",children:e.jsx("i",{className:"fa fa-search-plus"})}),e.jsx("button",{onClick:()=>j(c-1),className:"btn btn-soft-purple mx-1 shadow-sm",children:e.jsx("i",{className:"fa fa-search-minus"})}),e.jsx("button",{className:"btn btn-soft-warning mx-1 shadow-sm  ",onClick:()=>V(),children:e.jsx("i",{className:w?"fa fa-compress":"fa fa-expand"})}),e.jsx("button",{onClick:()=>D(),className:"btn btn-danger mx-1 shadow-sm",children:e.jsx("i",{className:"fa fa-power-off"})})]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("a",{href:"/",className:"text-primary h3 me-3",children:e.jsx("i",{className:"fa fa-arrow-left"})}),e.jsxs("h3",{children:["Point de vente",e.jsxs("span",{className:"h6 ms-1",children:["(",__magasin_ref,")"]})]})]})]})})}),e.jsx("div",{className:"col-7",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-5",children:e.jsxs("div",{className:"input-group flex-nowrap",children:[e.jsx("div",{className:"w-100",children:e.jsx(Q,{classNames:{control:()=>"border-light shadow-none",option:s=>s.isFocused?"bg-primary text-white":s.isSelected?"bg-soft-primary text-white":s.isDisabled?"bg-soft-light text-muted":"",singleValue:s=>{s.isFocused}},cache:!1,defaultValue:__default_client,value:h,onChange:s=>y(s),loadOptions:async s=>(await x.get("clients-liste",{params:{search:s}})).data.map(i=>({value:i.id,label:i.nom}))})}),e.jsx("button",{"data-bs-toggle":"modal","data-bs-target":"#client-modal",className:"input-group-text btn btn-light",children:"+"})]})}),e.jsx("div",{className:"col-7",children:e.jsx(Z,{searchValue:m,setSearchValue:f,validateSearch:M,populateData:O})})]})})})}),e.jsx("div",{className:"col-5",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsx("button",{className:_=="bc"?"btn btn-block w-100 btn-primary border-primary ":"btn btn-block w-100 border-primary text-primary",onClick:()=>{S(),C("bc")},style:{border:_=="bc"?"solid 3px":"dashed 3px",transition:"all .s ease-in-out"},children:"Vente"})}),e.jsx("div",{className:"col-6",children:e.jsx("button",{className:_=="br"?"btn btn-block w-100 btn-success border-success":"btn btn-block w-100 border-success text-success",onClick:()=>{S(),C("br")},style:{border:_=="br"?"solid 3px":"dashed 3px"},children:"Retour"})})]})})})}),e.jsx("div",{className:"col-7 d-flex flex-column",style:{height:"calc(100vh - 16rem)"},children:e.jsx(se,{items:g,type:_,cashOut:H,setItems:k,resetAll:S,paiement:u,is_reduction_on:__on_reduction,is_prix_editable:r,setIsLoading:d,onTotalReductionChange:I})}),e.jsxs("div",{className:"col-5 d-flex flex-column ",children:[e.jsx("div",{className:"position-relative h-100",children:e.jsx(ee,{commercial:F,setCommercial:R,setIsLoading:d})}),e.jsx("div",{className:"position-relative h-100",children:e.jsx(te,{methodeLivraison:T,setMethodeLivraison:a,setIsLoading:d})})]})]}),e.jsx(G,{paiement:u,payer:W,setPaiement:B}),e.jsx(J,{setClient:y,setIsLoading:d}),e.jsx(Y,{reduction:!1})]})}x.defaults.baseURL=__api_url;x.defaults.headers.common["X-CSRF-TOKEN"]=sessionStorage.getItem("csrf");x.defaults.withCredentials=!0;x.defaults.withXSRFToken=!0;x.defaults.headers.Authorization="Bearer "+sessionStorage.getItem("access_token");K.createRoot(document.getElementById("root")).render(e.jsx(X.StrictMode,{children:e.jsx(ae,{})}));
